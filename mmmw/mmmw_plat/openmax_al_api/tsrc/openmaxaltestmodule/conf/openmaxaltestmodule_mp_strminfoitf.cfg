//
// Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
// All rights reserved.
// This component and the accompanying materials are made available
// under the terms of "Eclipse Public License v1.0"
// which accompanies this distribution, and is available
// at the URL "http://www.eclipse.org/legal/epl-v10.html".
//
// Initial Contributors:
// Nokia Corporation - initial contribution.
//
// Contributors:
//
// Description: 
//
//


[StifSettings]
CheckHeapBalance=off
[EndStifSettings]

[Test]
title 14.1 StrmInfoItf QueryMediaContainerInformation
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.mp3
ALImpl al_SetDataFormat 1 audio/mpeg 9
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryMediaContainerInformation
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
delete ALImpl
[Endtest]

[Test]
title 14.2 StrmInfoItf QueryStreamType
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.mp3
ALImpl al_SetDataFormat 1 audio/mpeg 9
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryStreamType 1
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
delete ALImpl
[Endtest]

[Test]
title 14.3 StrmInfoItf QueryStreamInformation
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.mp3
ALImpl al_SetDataFormat 1 audio/mpeg 9
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryStreamInformation 1 1
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
delete ALImpl
[Endtest]

[Test]
title 14.4 StrmInfoItf QueryStreamName
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.mp3
ALImpl al_SetDataFormat 1 audio/mpeg 9
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryStreamName 1
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
delete ALImpl
[Endtest]

[Test]
title 14.5 StrmInfoItf RegisterStreamChangeCallback
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.mp3
ALImpl al_SetDataFormat 1 audio/mpeg 9
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_RegisterStreamChangeCallback
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
delete ALImpl
[Endtest]

[Test]
title 14.6 StrmInfoItf QueryActiveStreams
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.mp3
ALImpl al_SetDataFormat 1 audio/mpeg 9
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryActiveStreams
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
delete ALImpl
[Endtest]

[Test]
title 14.7 StrmInfoItf SetActiveStream
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.mp3
ALImpl al_SetDataFormat 1 audio/mpeg 9
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
allownextresult XA_RESULT_FEATURE_UNSUPPORTED KErrNotSupported
ALImpl al_strminfoitf_SetActiveStream 1 1 1
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
delete ALImpl
[Endtest]

[Test]
title 14.8 StrmInfoItf QueryMediaContainerInformation
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.3gp
ALImpl al_SetDataFormat 1 video/3gp 23
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_CreateWindow WinPtX WinPtY WinTopLeft WinTopRight WinBotLeft WinBotRight
ALImpl al_SetDataSink 5 3 2
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryMediaContainerInformation
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
ALImpl al_DeleteWindow
delete ALImpl
[Endtest]

[Test]
title 14.9 StrmInfoItf QueryStreamType
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.3gp
ALImpl al_SetDataFormat 1 video/3gp 23
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_CreateWindow WinPtX WinPtY WinTopLeft WinTopRight WinBotLeft WinBotRight
ALImpl al_SetDataSink 5 3 2
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryStreamType 1
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
ALImpl al_DeleteWindow
delete ALImpl
[Endtest]

[Test]
title 14.10 StrmInfoItf QueryStreamInformation
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.3gp
ALImpl al_SetDataFormat 1 video/3gp 23
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_CreateWindow WinPtX WinPtY WinTopLeft WinTopRight WinBotLeft WinBotRight
ALImpl al_SetDataSink 5 3 2
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryStreamInformation 1 1
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
ALImpl al_DeleteWindow
delete ALImpl
[Endtest]

[Test]
title 14.11 StrmInfoItf QueryStreamName
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.3gp
ALImpl al_SetDataFormat 1 video/3gp 23
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_CreateWindow WinPtX WinPtY WinTopLeft WinTopRight WinBotLeft WinBotRight
ALImpl al_SetDataSink 5 3 2
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryStreamName 1
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
ALImpl al_DeleteWindow
delete ALImpl
[Endtest]

[Test]
title 14.12 StrmInfoItf RegisterStreamChangeCallback
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.3gp
ALImpl al_SetDataFormat 1 video/3gp 23
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_CreateWindow WinPtX WinPtY WinTopLeft WinTopRight WinBotLeft WinBotRight
ALImpl al_SetDataSink 5 3 2
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_RegisterStreamChangeCallback
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
ALImpl al_DeleteWindow
delete ALImpl
[Endtest]

[Test]
title 14.13 StrmInfoItf QueryActiveStreams
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.3gp
ALImpl al_SetDataFormat 1 video/3gp 23
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_CreateWindow WinPtX WinPtY WinTopLeft WinTopRight WinBotLeft WinBotRight
ALImpl al_SetDataSink 5 3 2
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_strminfoitf_QueryActiveStreams
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
ALImpl al_DeleteWindow
delete ALImpl
[Endtest]

[Test]
title 14.14 StrmInfoItf SetActiveStream
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.3gp
ALImpl al_SetDataFormat 1 video/3gp 23
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_CreateWindow WinPtX WinPtY WinTopLeft WinTopRight WinBotLeft WinBotRight
ALImpl al_SetDataSink 5 3 2
ALImpl al_engitf_CreateMediaPlayer 1 XA_IID_STREAMINFORMATION
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
allownextresult XA_RESULT_FEATURE_UNSUPPORTED KErrNotSupported
ALImpl al_strminfoitf_SetActiveStream 1 1 1
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
ALImpl al_DeleteWindow
delete ALImpl
[Endtest]

[Test]
title 14.15 StrmInfoItf TestEvent Audio->A/V->Video
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.mp3
ALImpl al_SetDataFormat 1 audio/mpeg 9
ALImpl al_SetDataSource 1 1 1
ALImpl al_SetDataSink 3 6 1
ALImpl al_engitf_CreateMediaPlayer 2 XA_IID_STREAMINFORMATION XA_IID_DYNAMICSOURCE
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_DYNAMICSOURCE
request Event_XA_STREAMCBEVENT_PROPERTYCHANGE
ALImpl al_strminfoitf_RegisterStreamChangeCallback 0
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.3gp
ALImpl al_SetDataFormat 1 video/3gp 10
ALImpl al_SetDataSource 1 1 4
ALImpl al_dynsrcitf_SetSource
wait Event_XA_STREAMCBEVENT_PROPERTYCHANGE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test_video.3gp
ALImpl al_SetDataFormat 1 video/3gp 10
ALImpl al_SetDataSource 1 1 4
ALImpl al_dynsrcitf_SetSource
wait Event_XA_STREAMCBEVENT_PROPERTYCHANGE
release Event_XA_STREAMCBEVENT_PROPERTYCHANGE
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
delete ALImpl
[Endtest]

[Test]
title 14.16 StrmInfoItf TestEvent A/V->video->Audio
create openmaxaltestmodule ALImpl
ALImpl al_createEngine 1 1 0 0
ALImpl al_objitf_Realize MO_ENGINE XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_ENGINE XA_IID_ENGINE
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.3gp
ALImpl al_SetDataFormat 1 video/3gp 10
ALImpl al_SetDataSource 1 1 2
ALImpl al_SetDataSink 3 6 1
ALImpl al_engitf_CreateMediaPlayer 2 XA_IID_STREAMINFORMATION XA_IID_DYNAMICSOURCE
ALImpl al_objitf_Realize MO_PLAYER XA_BOOLEAN_FALSE
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_STREAMINFORMATION
ALImpl al_objitf_GetInterface MO_PLAYER XA_IID_DYNAMICSOURCE
request Event_XA_STREAMCBEVENT_PROPERTYCHANGE
ALImpl al_strminfoitf_RegisterStreamChangeCallback 0
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test_video.3gp
ALImpl al_SetDataFormat 1 video/3gp 10
ALImpl al_SetDataSource 1 1 4
ALImpl al_dynsrcitf_SetSource
wait Event_XA_STREAMCBEVENT_PROPERTYCHANGE
ALImpl al_strminfoitf_SetStreamInfoIndex 1
ALImpl al_SetDataLocator 1 file:/\/\/c:/testing/data/omxaltestdata/test.mp3
ALImpl al_SetDataFormat 1 audio/mpeg 9
ALImpl al_SetDataSource 1 1 4
ALImpl al_dynsrcitf_SetSource
wait Event_XA_STREAMCBEVENT_PROPERTYCHANGE
release Event_XA_STREAMCBEVENT_PROPERTYCHANGE
ALImpl al_objitf_Destroy MO_PLAYER
ALImpl al_objitf_Destroy MO_ENGINE
delete ALImpl
[Endtest]
